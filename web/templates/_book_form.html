{{define "book-form"}}
<form id="book-form" 
      hx-post="/references" 
      hx-target="#references-list"
      hx-swap="innerHTML"
      hx-on::after-request="
        if (event.detail.successful) {
            document.getElementById('add-reference-form').remove();
        }
      "
      class="space-y-4">
    <input type="hidden" name="type" value="book">
    <input type="hidden" name="categoryId" value="{{.CategoryId}}">
    
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Title</label>
        <input type="text" name="title" required
            class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400">
    </div>
    
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">ISBN</label>
        <input type="text" name="isbn"
            class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400">
    </div>
    
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Description</label>
        <textarea name="description" rows="3"
            class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"></textarea>
    </div>

    <div class="flex items-center gap-2">
        <input type="checkbox" name="starred" id="book-starred" class="rounded text-blue-600">
        <label for="book-starred" class="text-sm text-gray-700">Star this reference</label>
    </div>

    <div class="flex gap-2 justify-end">
        <button type="submit"
            class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">Add Book</button>
        <button type="button"
            onclick="document.getElementById('add-reference-form').remove()"
            class="bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300 transition">Cancel</button>
    </div>
</form>
{{end}} 