<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Reference Manager</title>
    <script src="https://unpkg.com/htmx.org@1.9.4"></script>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Remove old CSS, now using Tailwind */
        .category-link.active { font-weight: bold; }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
          document.querySelectorAll('.category-link').forEach(function(link) {
            link.addEventListener('click', function(evt) {
              // Remove active classes from all links
              document.querySelectorAll('.category-link').forEach(function(l) {
                l.classList.remove('bg-blue-100', 'text-blue-700', 'font-semibold', 'active');
                l.classList.add('text-gray-700');
              });
              // Add active classes to the clicked link
              this.classList.add('bg-blue-100', 'text-blue-700', 'font-semibold', 'active');
              this.classList.remove('text-gray-700');
            });
          });
        });
    </script>
</head>

<body>
    {{template "body-fragment" .}}
</body>
</html>

{{define "body-fragment"}}
<div id="body-fragment" class="bg-gray-50 min-h-screen flex">
    {{template "sidebar" .sidebar}}
    <div id="main" class="flex-1 p-8">
        {{template "references" .references}}
    </div>
</div>
{{end}}